{
    "resourceType": "Patient",
    "tableName": "patients",
    "fields": [
        {
            "fhirPath": "id",
            "emrField": "patient_id",
            "dataType": "string",
            "required": true
        },
        {
            "fhirPath": "active",
            "emrField": "inactive",
            "dataType": "bool",
            "required": true
        },
        {
            "fhirPath": "maritalStatus",
            "required": true,
            "template": "codeableConcept",
            "emrField": "marital_status",
            "valueSet": {
                "system": "http://terminology.hl7.org/CodeSystem/v3-MaritalStatus",
                "displayMap": {
                    "S": "Single",
                    "M": "Married",
                    "D": "Divorced",
                    "W": "Widowed"
                }
            }
        },
        {
            "fhirPath": "name[0]",
            "required": true,
            "template": "humanName",
            "emrFieldMap": {
                "given": "forename",
                "family": "surname",
                "prefix": "title"
            },
            "defaults": {
                "use": "official"
            }
        },
        {
            "fhirPath": "gender",
            "emrField": "gender",
            "dataType": "string",
            "required": true
        },
        {
            "fhirPath": "birthDate",
            "emrField": "dob",
            "dataType": "date",
            "format": "yyyy-MM-dd",
            "required": true
        },
        {
            "fhirPath": "telecom[0]",
            "required": true,
            "template": "contactPoint",
            "emrFieldMap": {
                "value": "phone"
            },
            "defaults": {
                "system": "phone",
                "use": "home"
            }
        },
        {
            "fhirPath": "telecom[1]",
            "template": "contactPoint",
            "emrFieldMap": {
                "value": "email"
            },
            "defaults": {
                "system": "email",
                "use": "work"
            }
        },
        {
            "fhirPath": "address[0]",
            "required": true,
            "template": "address",
            "emrFieldMap": {
                "line[0]": "address",
                "text": "address",
                "city": "origin_lga",
                "state": "origin_state",
                "country": "origin_country"
            },
            "defaults": {
                "use": "home",
                "type": "physical"
            }
        },
        {
            "fhirPath": "contact[0]",
            "required": true,
            "template": "contact",
            "emrFieldMap": {
                "name.family": "nok_full_name",
                "name.given[0]": "nok_full_name",
                "name.prefix": "__empty__",
                "telecom[0].value": "nok_phone",
                "telecom[1].value": "email",
                "address.line": "nok_address",
                "address.text": "nok_address",
                "address.city": "origin_lga",
                "address.state": "origin_state",
                "address.country": "origin_country",
                "address.use": "__default__",
                "address.type": "__default__",
                "organization.reference": "__empty__",
                "organization.display": "__empty__",
                "gender": "gender"
            },
            "defaults": {
                "name.use": "official",
                "address.use": "home",
                "address.type": "physical",
                "telecom[0].system": "phone",
                "telecom[0].use": "home",
                "telecom[1].system": "email",
                "telecom[1].use": "work",
                "relationship": [
                    {
                        "coding": [
                            {
                                "system": "https://terminology.hl7.org/CodeSystem/v2-0131",
                                "code": "N",
                                "display": "Next of Kin"
                            }
                        ],
                        "text": "Next of Kin"
                    },
                    {
                        "coding": [
                            {
                                "system": "https://terminology.hl7.org/CodeSystem/v2-0131",
                                "code": "C",
                                "display": "Emergency Contact"
                            }
                        ],
                        "text": "Emergency Contact"
                    }
                ],
                "period": {
                    "start": "2020-01-01T00:00:00.000Z",
                    "end": "2025-01-01T00:00:00.000Z"
                }
            }
        },
        {
            "template": "identifier",
            "fhirPath": "identifier[0]",
            "required": true,
            "emrFieldPriority": {
                "national_id": "nin",
                "bank_id": "bvn",
                "passport_id": "passport_number",
                "driver_license": "driver_license",
                "emr_patient_identifier": "upi"
            },
            "identifierTypeMap": {
                "nin": {
                    "code": "NIN",
                    "display": "National Identification Number",
                    "system": "http://terminology.hl7.org/CodeSystem/v2-0203",
                    "text": "National Identification Number"
                },
                "bvn": {
                    "code": "BVN",
                    "display": "Bank Verification Number",
                    "system": "http://terminology.hl7.org/CodeSystem/v2-0203",
                    "text": "Bank Verification Number"
                },
                "passport_number": {
                    "code": "PPN",
                    "display": "Passport Number",
                    "system": "http://terminology.hl7.org/CodeSystem/v2-0203",
                    "text": "Passport Number"
                },
                "driver_license": {
                    "code": "DL",
                    "display": "Drivers License",
                    "system": "http://terminology.hl7.org/CodeSystem/v2-0203",
                    "text": "Drivers License"
                },
                "upi": {
                    "code": "UPI",
                    "display": "EMR Patient Identifier",
                    "system": "http://terminology.hl7.org/CodeSystem/v2-0203",
                    "text": "EMR Patient Identifier"
                }
            },
            "defaults": {
                "use": "official",
                "system": "http://hospital.smarthealth.org/patient-ids"
            }
        },
        {
            "fhirPath": "managingOrganization",
            "required": true,
            "template": "reference",
            "source": "environment"
        }
    ]
}